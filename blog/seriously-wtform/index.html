<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="LCY" />
        <meta name="description" content="I&#39;m about neck deep into a large Flask application. It&#39;s an MVP so no over the top Angular frontend or anything. Means I&#39;m using a lot of WTForm to get user input... Means I&#39;m saying &#34;WTF?!&#34; a lot! I&#39;ve used WTForms before. In django projects ..." />

    <title>Seriously WTForm - upperli</title>

        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">
    
    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    
    <link href="/theme/css/pelican-twitchy.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Feeds -->
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="upperli ATOM Feed"/>
	
	<!-- MathJax -->
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript"
		src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
</head>
<body data-spy="scroll" data-target="#scrollspy">
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper-small">
            <ul id="accordion-small" class="sidebar-nav sidebar-nav-small">
                <li>
        <a href="" title="upperli" class="collapsed">
            <span class="glyphicon glyphicon-home"></span>
        </a>
    </li>
                <li class="nav-divider"></li>
                <li>
        <a href="/blog" title="Recent Articles" class="collapsed">
            <span class="glyphicon glyphicon-th-list"></span>
        </a>
    </li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-social-small" title="Social" class="collapsed">
                        <i class="fa fa-users padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social-small" class="collapse ">
                    <li>
                        <a href="http://github.com/upperli" title="github"><i class="fa fa-github-square fa-lg padding-small"></i></a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
        <a href="#" title="Back to top" class="collapsed">
            <span class="fa fa-arrow-up"></span>
        </a>
    </li>
            </ul>
        </div>
        <div id="sidebar-wrapper">
            <ul id="accordion" class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/">
                            <span class="glyphicon glyphicon-home padding-small"></span>
                            upperli
                    </a>
                </li>
                    <li>
                        <a href="/blog">
                            <span class="glyphicon glyphicon-th-list padding-small"></span>
                            Recent Articles
                        </a>
                    </li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-social">
                        <i class="fa fa-users padding-small"></i>
                        Social
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social" class="sidebar_submenu collapse ">
                    <li>
                        <a href="http://github.com/upperli" title="github">
                            <i class="fa fa-github-square fa-lg padding-small"></i>
                            github
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-pages">
                        <i class="fa fa-folder-open padding-small"></i>
                        Pages
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-pages" class="sidebar_submenu collapse ">
                    <li>
                        <a href="/about">
                            <i class="fa fa-file-text padding-small"></i>
                            About
                        </a>
                    </li>
                    <li>
                        <a href="/portfolio">
                            <i class="fa fa-file-text padding-small"></i>
                            Portfolio
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-categories">
                        <i class="fa fa-folder-open padding-small"></i>
                        Categories
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-categories" class="sidebar_submenu collapse ">
                    <li >
                        <a href="/category/blog/">
                            <i class="fa fa-folder-open padding-small"></i>
                            blog
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="/category/programming/">
                            <i class="fa fa-folder-open padding-small"></i>
                            Programming
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                    <li >
                        <a href="/category/recommendation/">
                            <i class="fa fa-folder-open padding-small"></i>
                            recommendation
                            <span class="badge pull-right categorybadge">1</span>
                        </a>
                    </li>
                </ul></li>
                
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- open/close sidebar -->
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span id="right-arrow" class="glyphicon glyphicon-chevron-right"  title="expand sidebar"></span>
            <span id="left-arrow" class="glyphicon glyphicon-chevron-left" title="minimize sidebar"></span>
        </a>
       <!-- /open/close sidebar -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content">
    <article>
        <div class="row">
            <div class="col-lg-12">
                <header class="page-header">
                    <h1>
                        <a href="/blog/seriously-wtform"
                           rel="bookmark"
                           title="Permalink to Seriously WTForm">
                            Seriously WTForm
                        </a>
                        <small>
<footer class="post-info">
    <div id="publish-info" class="publish-info-block">
        <span class="published">
            <i class="fa fa-calendar padding-small"></i><time datetime="2014-06-28T10:42:00"> 2014-06-28T10:42:00Z</time>
        </span>
        <span class="category">
            <i class="fa fa-folder-open padding-small"></i><a href="/category/programming/">Programming</a>
        </span>
    </div>
</footer><!-- /.post-info -->                        </small>
                    </h1>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="entry-content">
                    <p>I'm about neck deep into a large Flask application. It's an MVP so no over the top
Angular frontend or anything. Means I'm using a lot of WTForm to get user input...</p>
<p>Means I'm saying <strong><em>"WTF?!"</em></strong>  <strong>a lot!</strong><br>
I've used WTForms before. In django projects as well. I've never really felt so bitter
toward them. The name just used to be funny... now I'm seriously wondering "what the fuck?!".
It's not hard to get data to Flask views. It's actually pretty freaking simple. So the only
reason to use an extension like WTForms is because it would simplify this even further.</p>
<p>Except it doesn't. <strong>Not at first</strong>.</p>
<p>A little work has to go in to get the most from the library but that little work does go
a long way. I'll show you a few ways you can get WTForms to really speed up your form
generation and digestion.</p>
<p>Let's look at a simple form class definition:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">firstname</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">(</span><span class="s">u&#39;First Name&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Required</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">64</span><span class="p">)])</span>
    <span class="n">middlename</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">(</span><span class="s">u&#39;Middle Name&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Optional</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">64</span><span class="p">)])</span>
    <span class="n">lastname</span> <span class="o">=</span> <span class="n">TextField</span><span class="p">(</span><span class="s">u&#39;Last Name&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Required</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">64</span><span class="p">)])</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">EmailField</span><span class="p">(</span><span class="s">u&#39;Email&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Email</span><span class="p">(),</span> <span class="n">Optional</span><span class="p">()])</span>
    <span class="n">dob</span> <span class="o">=</span> <span class="n">DateField</span><span class="p">(</span><span class="s">u&#39;Date of Birth&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Optional</span><span class="p">()],</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;%m/</span><span class="si">%d</span><span class="s">/%Y&#39;</span><span class="p">)</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">IntegerField</span><span class="p">(</span><span class="s">u&#39;Phone No.&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Optional</span><span class="p">()],</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="n">SelectField</span><span class="p">(</span><span class="s">u&quot;Gender&quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;Male&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;Female&#39;</span><span class="p">)])</span>
</pre></div>


<p><br>
That corresponds to a model <code>Person</code>:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

  <span class="n">__tablename__</span> <span class="o">=</span> <span class="s">&#39;persons&#39;</span>

  <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">firstname</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
  <span class="n">middlename</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
  <span class="n">lastname</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
  <span class="n">email</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
  <span class="n">phone</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
  <span class="n">dob</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">)</span>
  <span class="n">created_time</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">get_current_time</span><span class="p">)</span>
  <span class="n">gender</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
</pre></div>
                </div>
                <footer class="text-right">
                    <p>- LCY</p>
                </footer>
    <section id="comments" class="comments ">
        <hr/>
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </section>
            </div>
        </div>
    </article>
</section>
            </div>
<footer>
    <div class="container-fluid">
        <hr>
        <div class="row">
            <div class="col-xs-4 text-left">
                
            </div>
            <div class="col-xs-8 text-right">
                <p>Built using <a href="http://docs.getpelican.com/en/latest">Pelican</a>, <a href="getbootstrap.com">Bootstrap3</a> and the <a href="https://github.com/ingwinlu/pelican-twitchy">pelican-twitchy</a> theme.</p>
                <p>&copy; 2014 LCY</p>
            </div>
        </div>
    </div>
</footer>        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
	
    <!-- jQuery Version 1.11.0 -->
    <script src="/theme/js/jquery-1.11.0.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="/theme/js/bootstrap.min.js"></script>
    <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>


<!-- disqus -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'frankvalcarcel'; // required: replace example with your forum shortname

            var disqus_identifier = 'seriously-wtform';
        var disqus_url = '/blog/seriously-wtform';

    var disqus_config = function () {
        this.language = "ch";
    };
        /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<!-- /disqus --></body>
</html>